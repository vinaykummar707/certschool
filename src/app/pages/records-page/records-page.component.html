<div class="main-container">
    <header class="header-3">
        <div class="branding">
            <a href="/registration"  class="nav-link">
                <div class="pr2 tc">
                    <img
                            [src]="environment.homePageIcon"
                            class="br-100 h2 w2 dib" alt="avatar">
                </div>
                <span class="title b">{{environment.registerPageTitle}}</span>
            </a>
        </div>
    </header>
    <div *ngIf="config && config.showRegPage === 'no' " class="content-container">
        <div *ngIf="!dataSubmitted && !showLoader" class="content-area">

            <div class="pa2 bg-white mt2">
                <div class="alert alert-warning" role="alert">
                    <div class="alert-items">
                        <div class="alert-item static">
                            <div class="alert-icon-wrapper">
                                <cds-icon class="alert-icon" shape="exclamation-circle"></cds-icon>
                            </div>
                            <span class="alert-text">Fields with * symbol are mandatory</span>
                        </div>
                    </div>
                </div>
                <form [formGroup]="studentForm" clrForm clrLayout="vertical">
                    <div class="clr-row">
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>Khandan Name <span style="color: red">*</span></label>
                                <input clrInput type="text" formControlName="FamilyName" class="w-100"/>
                            </clr-input-container>
                            <clr-control-error style="color: red" *ngIf="studentForm.controls.FamilyName.invalid && studentForm.controls.FamilyName.touched " >This field is required</clr-control-error>
                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>Student Name <span style="color: red">*</span></label>
                                <input clrInput  type="text" formControlName="StudentName" class="w-100"/>
                            </clr-input-container>
                            <clr-control-error style="color: red" *ngIf="studentForm.controls.StudentName.invalid && studentForm.controls.StudentName.touched " >This field is required</clr-control-error>

                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>Father Name <span style="color: red">*</span></label>
                                <input clrInput  type="text" formControlName="FatherName" class="w-100"/>

                            </clr-input-container>
                            <clr-control-error style="color: red" *ngIf="studentForm.controls.FatherName.invalid && studentForm.controls.FatherName.touched " >This field is required</clr-control-error>

                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>Mobile Number <span style="color: red">*</span></label>
                                <input clrInput  type="text" formControlName="MobileNumber" class="w-100"/>
                            </clr-input-container>
                            <clr-control-error style="color: red" *ngIf="studentForm.controls.MobileNumber.invalid && studentForm.controls.MobileNumber.touched " >This field is required</clr-control-error>

                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>Address</label>
                                <input clrInput type="text" formControlName="Address" class="w-100"/>
                            </clr-input-container>
                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>City</label>
                                <input clrInput type="text" formControlName="City" class="w-100"/>
                            </clr-input-container>
                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>State</label>
                                <input clrInput type="text" formControlName="State" class="w-100"/>
                            </clr-input-container>
                        </div>



                    </div>
                </form>

                <form [formGroup]="activityForm" clrForm clrLayout="vertical">
                    <div class="clr-row">

                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-select-container class="w-100">
                                <label>Registration Type <span style="color: red">*</span></label>
                                <select class="w-100" clrSelect formControlName="ActivityType">
                                    <option value="education">Education</option>
                                    <option value="event">Sports/Competition</option>
                                    <option value="ssc">SSC Model Paper</option>
                                </select>
                                <span style="color: red" *ngIf=" activityForm.controls.ActivityType.invalid && activityForm.controls.ActivityType.touched" >This field is required</span>

                            </clr-select-container>

                        </div>

                        <div *ngIf="activityForm.controls['ActivityType'].value === 'event' || activityForm.controls['ActivityType'].value === 'education'"
                             class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-date-container>
                                <label> {{activityForm.controls['ActivityType'].value === 'education' ? 'Passing Year' : 'Sports/Competition Year' }} </label>
                                <input type="date" autocomplete="off" formControlName="EventDate" clrDate/>
                            </clr-date-container>
                        </div>


                    </div>
                </form>
                <div *ngIf="activityForm.controls['ActivityType'].value === 'education'">
                    <form [formGroup]="activityForm" clrForm clrLayout="vertical">
                        <div class="clr-row">
                            <form class="clr-col-6" [formGroup]="selectForm" clrForm clrLayout="vertical">
                                <div class="clr-row">


                                <div class="clr-col-sm-12 clr-col-lg-6 clr-col-md-6">
                                    <clr-select-container class="w-100">
                                        <label>Education Passed <span style="color: red">*</span></label>
                                        <select class="w-100" clrSelect formControlName="EducationPassed">
                                            <option *ngFor="let edu of eduPassed" [value]="edu.EducationPassed">{{edu.EducationPassed}}</option>
                                        </select>
                                    </clr-select-container>

                                </div>
                                <div class="clr-col-sm-12 clr-col-lg-6 clr-col-md-6">
                                    <clr-select-container class="w-100">
                                        <label>Board Stream<span style="color: red">*</span></label>
                                        <select class="w-100" clrSelect formControlName="BoardStream">
                                            <option *ngFor="let edu of eduStreamFiltered" [value]="edu.Stream">{{edu.Stream}}</option>
                                        </select>
                                    </clr-select-container>

                                </div>
                                </div>
                            </form>
                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Board/University</label>
                                    <input clrInput type="text"
                                           placeholder="Telangana Board,CBSE,JNTUH,Osmania University,etc"
                                           formControlName="BoardType" class="w-100"/>
                                </clr-input-container>
                            </div>
                            <div *ngIf="selectForm.controls.EducationPassed.value === 'Other' " class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Other Education Passed</label>
                                    <input clrInput type="text" formControlName="EducationPassed" placeholder="ex: SSC,Inter,Btech,Degree,Diploma"
                                            class="w-100"/>
                                </clr-input-container>
                            </div>
                            <div *ngIf="selectForm.controls.EducationPassed.value === 'Other' " class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Other Board Stream</label>
                                    <input clrInput type="text" formControlName="BoardStream" placeholder="CSE,BCOM,MSC etc"
                                            class="w-100"/>
                                </clr-input-container>
                            </div>

                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Grade</label>
                                    <input clrInput type="text" placeholder="ex: A,B,C" formControlName="Grade"
                                           class="w-100"/>
                                </clr-input-container>
                            </div>
                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Total Marks Obtained (Including All Subjects) <span style="color: red">*</span></label>
                                    <input clrInput type="text" placeholder="ex: 976" formControlName="TotalMarks"
                                           class="w-100"/>

                                </clr-input-container>
                                <clr-control-error style="color: red" *ngIf="activityForm.controls.TotalMarks.invalid && activityForm.controls.TotalMarks.touched " >This field is required</clr-control-error>

                            </div>
                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Percentage</label>
                                    <input clrInput type="text" placeholder="ex: 97%" formControlName="Percentage"
                                           class="w-100"/>
                                </clr-input-container>
                            </div>
                        </div>
                    </form>
                </div>
                <div *ngIf="activityForm.controls['ActivityType'].value === 'event'">
                    <form [formGroup]="activityForm" clrForm clrLayout="vertical">
                        <div class="clr-row">
                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Sports/Competition Title <span style="color: red">*</span></label>
                                    <input clrInput type="text" placeholder="ex: Singing Competition 2022"
                                           formControlName="EventTitle" class="w-100"/>
                                </clr-input-container>
                                <clr-control-error style="color: red" *ngIf="activityForm.controls.EventTitle.invalid && activityForm.controls.EventTitle.touched " >This field is required</clr-control-error>

                            </div>
                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Participation Description </label>
                                    <input clrInput type="text" placeholder="ex: National Level, District Wide"
                                           formControlName="EventDescription" class="w-100"/>
                                </clr-input-container>

                            </div>
                            <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                                <clr-input-container>
                                    <label>Award <span style="color: red">*</span></label>
                                    <input clrInput type="text" placeholder="ex: 1st Rank, Gold Medal, etc"
                                           formControlName="EventReward" class="w-100"/>
                                </clr-input-container>
                                <clr-control-error style="color: red" *ngIf="activityForm.controls.EventReward.invalid && activityForm.controls.EventReward.touched " >This field is required</clr-control-error>

                            </div>
                        </div>
                    </form>
                </div>

                <form clrForm clrLayout="vertical" *ngIf="activityForm.controls['ActivityType'].value === 'ssc'"
                      [formGroup]="activityForm">
                    <div class="clr-row">
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-select-container class="w-100">
                                <label>Present Studying SSC ? <span style="color: red">*</span></label>
                                <select class="w-100" clrSelect formControlName="StudyingSsc">
                                    <option [ngValue]="1">Yes</option>
                                    <option [ngValue]="0">No</option>
                                </select>
                            </clr-select-container>
                            <clr-control-error style="color: red" *ngIf="activityForm.controls.StudyingSsc.invalid && activityForm.controls.StudyingSsc.touched " >This field is required</clr-control-error>

                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>School Full Name <span style="color: red">*</span></label>
                                <input clrInput type="text" formControlName="SchoolName" class="w-100"/>
                            </clr-input-container>
                            <clr-control-error style="color: red" *ngIf="activityForm.controls.SchoolName.invalid && activityForm.controls.SchoolName.touched " >This field is required</clr-control-error>

                        </div>
                        <div class="clr-col-sm-12 clr-col-lg-3 clr-col-md-4">
                            <clr-input-container>
                                <label>School Address </label>
                                <input clrInput type="text" formControlName="SchoolAddress" class="w-100"/>
                            </clr-input-container>
                        </div>
                    </div>
                </form>


            </div>


            <button (click)="addStudent()" class="btn btn-primary btn-block">Submit Details</button>


        </div>

        <div *ngIf="!dataSubmitted && showLoader"
             class="h-100 w-100 flex flex-column justify-center items-center content-area">
            <span class="spinner spinner-sm"></span>
            <span>Uploading Details</span>
        </div>

        <div *ngIf="dataSubmitted && !showLoader" class="content-area">
            <div class="w-100 h-100 flex flex-column justify-center text-center items-center">
                <h3 class="text-center ma0 b"> {{environment.regSuccessTitle}} </h3>
                <h6 class="text-center ma0">{{environment.regSuccessDesc}}</h6>
            </div>
        </div>
    </div>
    <div *ngIf="config && config.showRegPage === 'yes' "class="content-container">

        <div class="w-100 h-100 flex flex-column justify-center text-center items-center">
            <h6 class="text-center ma0">{{config.regPageStopMsg}}</h6>
        </div>

        </div>

        <div *ngIf="!dataSubmitted && showLoader"
             class="h-100 w-100 flex flex-column justify-center items-center content-area">
            <span class="spinner spinner-sm"></span>
            <span>Uploading Details</span>
        </div>

        <div *ngIf="dataSubmitted && !showLoader" class="content-area">
            <div class="w-100 h-100 flex flex-column justify-center text-center items-center">
                <h3 class="text-center ma0 b"> {{environment.regSuccessTitle}} </h3>
                <h6 class="text-center ma0">{{environment.regSuccessDesc}}</h6>
            </div>
        </div>
    </div>









